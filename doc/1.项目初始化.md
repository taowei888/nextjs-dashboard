# Next.js Dashboard 项目初始化文档

## 项目概述

这是一个基于 Next.js App Router 的财务仪表板项目，用于学习 Next.js 框架。项目包含客户管理、发票管理和收入数据展示等功能。

## 初始化步骤

### 1. 项目创建
- 使用 Create Next App 初始化项目
- 项目基于 Next.js 最新版本
- 启用了 TypeScript 支持

### 2. 核心依赖安装

#### 框架和工具
- **Next.js**: 最新版本，使用 App Router
- **React**: 最新版本
- **TypeScript**: 5.7.3，提供类型安全

#### UI 和样式
- **Tailwind CSS**: 3.4.17，用于快速样式开发
- **@tailwindcss/forms**: 0.5.10，表单样式增强
- **@heroicons/react**: 2.2.0，React 图标库
- **clsx**: 2.1.1，条件性 CSS 类名工具

#### 数据和状态管理
- **postgres**: 3.4.6，PostgreSQL 数据库客户端
- **bcrypt**: 5.1.1，密码加密
- **zod**: 3.25.17，数据验证
- **use-debounce**: 10.0.4，防抖钩子

#### 认证
- **next-auth**: 5.0.0-beta.25，Next.js 认证解决方案

### 3. 项目结构设置

```
/app：包含所有路由、组件和应用程序逻辑
├── /lib：工具函数和数据获取函数
│   ├── data.ts：数据获取逻辑
│   ├── definitions.ts：TypeScript 类型定义
│   ├── utils.ts：通用工具函数
│   └── placeholder-data.ts：占位符数据
├── /ui：UI 组件
│   ├── /dashboard：仪表板相关组件
│   ├── /invoices：发票相关组件
│   ├── /customers：客户相关组件
│   └── 通用组件（button、search、skeletons等）
├── layout.tsx：根布局组件
└── page.tsx：首页组件

/public：静态资源，包括图片等
```

### 4. 开发环境配置

#### 包管理器
- 使用 pnpm 作为包管理器
- 配置了特殊依赖构建规则（bcrypt、sharp）

#### 开发服务器
- 开发端口：3344（自定义配置）
- 启用 Turbopack 加速构建
- 命令：`pnpm dev` 或 `npm run dev`

#### TypeScript 配置
- 完整的 TypeScript 支持
- 路径别名配置：`@/` 指向项目根目录

### 5. 数据库配置
- PostgreSQL 数据库
- 需要环境变量 `POSTGRES_URL`
- SSL 连接要求
- 包含以下数据表：
  - users（用户）
  - customers（客户）
  - invoices（发票）
  - revenue（收入）

### 6. 本地化配置
- 所有代码注释已翻译为中文
- 提升代码可读性和学习体验

## 构建和部署

### 开发命令
```bash
# 启动开发服务器
pnpm dev

# 构建生产版本
pnpm build

# 启动生产服务器
pnpm start
```

### 环境变量
需要配置以下环境变量：
- `POSTGRES_URL`: PostgreSQL 数据库连接字符串

## 注意事项

1. **生产环境优化**：移除了演示用的人为延迟代码
2. **类型安全**：所有数据结构都有完整的 TypeScript 类型定义
3. **代码规范**：遵循 Next.js 最佳实践
4. **安全性**：使用参数化查询防止 SQL 注入
5. **性能**：实现了数据库查询并行化

这个项目为学习 Next.js App Router、TypeScript、Tailwind CSS 和 PostgreSQL 集成提供了完整的实践环境。